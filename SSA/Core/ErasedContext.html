<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="stylesheet" href="../.././src/pygments.css"></link><link rel="shortcut icon" href="../.././favicon.ico"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>SSA.Core.ErasedContext</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="SSA.Core.ErasedContext";</script><script type="module" src="../.././search.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label>Documentation</h1><p class="header_filename break_within"><span class="name">SSA</span>.<span class="name">Core</span>.<span class="name">ErasedContext</span></p><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;
            <button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><h3><a class="break_within" href="#top"><span class="name">SSA</span>.<span class="name">Core</span>.<span class="name">ErasedContext</span></a></h3><p class="gh_nav_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Mathlib/Data/Erased.html">Mathlib.Data.Erased</a></li><li><a href="../.././SSA/Core/HVector.html">SSA.Core.HVector</a></li><li><a href="../.././Mathlib/Data/Finset/Basic.html">Mathlib.Data.Finset.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-SSA.Core.ErasedContext" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Goedel"><span class="name">Goedel</span></a></div><div class="nav_link"><a class="break_within" href="#«term⟦_⟧»"><span class="name">«term⟦_⟧»</span></a></div><div class="nav_link"><a class="break_within" href="#instGoedelUnit"><span class="name">instGoedelUnit</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt"><span class="name">Ctxt</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.empty"><span class="name">Ctxt</span>.<span class="name">empty</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.instEmptyCollectionCtxt"><span class="name">Ctxt</span>.<span class="name">instEmptyCollectionCtxt</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.instInhabitedCtxt"><span class="name">Ctxt</span>.<span class="name">instInhabitedCtxt</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.snoc"><span class="name">Ctxt</span>.<span class="name">snoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.ofList"><span class="name">Ctxt</span>.<span class="name">ofList</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.get?"><span class="name">Ctxt</span>.<span class="name">get?</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var"><span class="name">Ctxt</span>.<span class="name">Var</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.instDecidableEqVar"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">instDecidableEqVar</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.last"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">last</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.emptyElim"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">emptyElim</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.toSnoc"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">toSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.zero_eq_last"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">zero_eq_last</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.succ_eq_toSnoc"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">succ_eq_toSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.cast"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">cast</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.casesOn"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">casesOn</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.casesOn_last"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">casesOn_last</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.casesOn_toSnoc"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">casesOn_toSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.toSnoc_injective"><span class="name">Ctxt</span>.<span class="name">toSnoc_injective</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Hom"><span class="name">Ctxt</span>.<span class="name">Hom</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Hom.id"><span class="name">Ctxt</span>.<span class="name">Hom</span>.<span class="name">id</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Hom.with"><span class="name">Ctxt</span>.<span class="name">Hom</span>.<span class="name">with</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Hom.snocMap"><span class="name">Ctxt</span>.<span class="name">Hom</span>.<span class="name">snocMap</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Hom.snocRight"><span class="name">Ctxt</span>.<span class="name">Hom</span>.<span class="name">snocRight</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.instCoeVarSnoc"><span class="name">Ctxt</span>.<span class="name">instCoeVarSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Valuation"><span class="name">Ctxt</span>.<span class="name">Valuation</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.instInhabitedValuationEmptyCollectionCtxtInstEmptyCollectionCtxt"><span class="name">Ctxt</span>.<span class="name">instInhabitedValuationEmptyCollectionCtxtInstEmptyCollectionCtxt</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Valuation.snoc"><span class="name">Ctxt</span>.<span class="name">Valuation</span>.<span class="name">snoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Valuation.snoc_last"><span class="name">Ctxt</span>.<span class="name">Valuation</span>.<span class="name">snoc_last</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Valuation.snoc_toSnoc"><span class="name">Ctxt</span>.<span class="name">Valuation</span>.<span class="name">snoc_toSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Valuation.ofHVector"><span class="name">Ctxt</span>.<span class="name">Valuation</span>.<span class="name">ofHVector</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.VarSet"><span class="name">Ctxt</span>.<span class="name">VarSet</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.VarSet.ofVar"><span class="name">Ctxt</span>.<span class="name">VarSet</span>.<span class="name">ofVar</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.val_last"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">val_last</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.val_toSnoc"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">val_toSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Var.instReprVar"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">instReprVar</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.Valid"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">Valid</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff"><span class="name">Ctxt</span>.<span class="name">Diff</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.zero"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">zero</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.toSnoc"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.unSnoc"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">unSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.append_valid"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">append_valid</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.append"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">append</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.toHom"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toHom</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.Valid.of_succ"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">Valid</span>.<span class="name">of_succ</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.toHom_succ"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toHom_succ</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.toHom_zero"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toHom_zero</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.toHom_unSnoc"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toHom_unSnoc</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.add"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">add</span></a></div><div class="nav_link"><a class="break_within" href="#Ctxt.Diff.instHAddDiff"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">instHAddDiff</span></a></div></nav><main>
<div class="decl" id="Goedel"><div class="class"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L11-L12">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Goedel"><span class="name">Goedel</span></a></span><span class="decl_args">
<span class="fn">(β : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a> 1</div></div><ul class="structure_fields" id="Goedel.mk"><li id="Goedel.toType" class="structure_field"><div class="structure_field_info">toType : <span class="fn"><span class="fn">β</span> → <a href="../.././foundational_types.html">Type</a></span></div></li></ul><p>Typeclass for a <code>baseType</code> which is a Gödel code of Lean types.</p><p>Intuitively, each <code>b : β</code> represents a Lean <code>Type</code>, but using <code>β</code> instead of <code>Type</code> directly
avoids a universe bump</p><details class="instances"><summary>Instances</summary><ul id="instances-list-Goedel" class="instances-list"></ul></details></div></div><div class="decl" id="«term⟦_⟧»"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L15-L15">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#«term⟦_⟧»"><span class="name">«term⟦_⟧»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-«term⟦_⟧»" class="instances-for-list"></ul></details></div></div><div class="decl" id="instGoedelUnit"><div class="instance"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L17-L17">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#instGoedelUnit"><span class="name">instGoedelUnit</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel">Goedel</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#instGoedelUnit">instGoedelUnit</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">toType</span> := <span class="fn">fun <span class="fn">x</span> =&gt <a href="../.././Init/Prelude.html#Unit">Unit</a></span> }</span></span></li></ul></details></div></div><div class="decl" id="Ctxt"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L19-L21">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt"><span class="name">Ctxt</span></a></span><span class="decl_args">
<span class="fn">(Ty : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">Ty</span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.empty"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L28-L28">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.empty"><span class="name">Ctxt</span>.<span class="name">empty</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.empty</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">[]</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.empty" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.instEmptyCollectionCtxt"><div class="instance"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L30-L30">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.instEmptyCollectionCtxt"><span class="name">Ctxt</span>.<span class="name">instEmptyCollectionCtxt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Core.html#EmptyCollection">EmptyCollection</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.instEmptyCollectionCtxt</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">emptyCollection</span> := <span class="fn">Ctxt.empty</span> }</span></span></li></ul></details></div></div><div class="decl" id="Ctxt.instInhabitedCtxt"><div class="instance"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L31-L31">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.instInhabitedCtxt"><span class="name">Ctxt</span>.<span class="name">instInhabitedCtxt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.instInhabitedCtxt</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">Ctxt.empty</span> }</span></span></li></ul></details></div></div><div class="decl" id="Ctxt.snoc"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L34-L36">source</a></div><div class="attributes">@[match_pattern]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc"><span class="name">Ctxt</span>.<span class="name">snoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span> → <span class="fn"><span class="fn">Ty</span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">tl</span> <span class="fn">hd</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">hd</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">tl</span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.snoc" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.ofList"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L40-L42">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.ofList"><span class="name">Ctxt</span>.<span class="name">ofList</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">Ty</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span></span></div></div><p>Turn a list of types into a context</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">↑<span class="fn">Γ</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">Γ</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.ofList" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.get?"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L46-L47">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.get?"><span class="name">Ctxt</span>.<span class="name">get?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span> → <span class="fn"><a href="../.././Init/Prelude.html#Nat">ℕ</a> → <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">Ty</span></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.get?</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">List.get?</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.get?" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L49-L50">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var"><span class="name">Ctxt</span>.<span class="name">Var</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(t : <span class="fn">Ty</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">i</span> // <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Var" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var.instDecidableEqVar"><div class="instance"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L54-L56">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.instDecidableEqVar"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">instDecidableEqVar</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">Ty</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn">{<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">{<span class="fn">t</span> : <span class="fn">Ty</span>} → <span class="fn"><a href="../.././Init/Prelude.html#DecidableEq">DecidableEq</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.Var.instDecidableEqVar</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#id">id</a> <span class="fn">inferInstance</span></span></span></li></ul></details></div></div><div class="decl" id="Ctxt.Var.last"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L59-L60">source</a></div><div class="attributes">@[match_pattern]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">last</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(t : <span class="fn">Ty</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) <span class="fn">t</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last">Ctxt.Var.last</a> <span class="fn">Γ</span> <span class="fn">t</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">val</span> := <span class="fn">0</span>, <span class="fn">property</span> := <span class="fn">(_ : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span>)</span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Var.last" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var.emptyElim"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L62-L64">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.emptyElim"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">emptyElim</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a> <span class="fn">t</span></span> → <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.emptyElim">Ctxt.Var.emptyElim</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn">{ <span class="fn">val</span> := <span class="fn">val</span>, <span class="fn">property</span> := <span class="fn">h</span> }</span> =&gt <span class="fn"><a href="../.././Init/Prelude.html#False.elim">False.elim</a> <span class="fn">(_ : <a href="../.././Init/Prelude.html#False">False</a>)</span></span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Var.emptyElim" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var.toSnoc"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L70-L71">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.toSnoc"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">toSnoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t' : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(var : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t'</span></span>) <span class="fn">t</span></span></div></div><p>Take a variable in a context <code>Γ</code> and get the corresponding variable
in context <code>Γ.<a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">snoc</a> t</code>. This is marked as a coercion.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">↑<span class="fn">var</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">val</span> := <span class="fn"><span class="fn">↑<span class="fn">var</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>, <span class="fn">property</span> := <span class="fn">(_ : <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ</span> <span class="fn">↑<span class="fn">var</span></span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span>)</span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Var.toSnoc" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var.zero_eq_last"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L74-L76">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.zero_eq_last"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">zero_eq_last</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) <span class="fn">0</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">{ <span class="fn">val</span> := <span class="fn">0</span>, <span class="fn">property</span> := <span class="fn">h</span> }</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last">Ctxt.Var.last</a> <span class="fn">Γ</span> <span class="fn">t</span></span></span></div></div></div></div><div class="decl" id="Ctxt.Var.succ_eq_toSnoc"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L79-L81">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.succ_eq_toSnoc"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">succ_eq_toSnoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t' : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{w : <a href="../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(h : <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) (<span class="fn"><span class="fn">w</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t'</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">{ <span class="fn">val</span> := <span class="fn"><span class="fn">w</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>, <span class="fn">property</span> := <span class="fn">h</span> }</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">↑<span class="fn">{ <span class="fn">val</span> := <span class="fn">w</span>, <span class="fn">property</span> := <span class="fn">h</span> }</span></span></span></div></div></div></div><div class="decl" id="Ctxt.Var.cast"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L83-L84">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.cast"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">cast</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Op : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{ty₁ : <span class="fn">Op</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{ty₂ : <span class="fn">Op</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Op</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(h_eq : <span class="fn"><span class="fn">ty₁</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">ty₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">ty₁</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">ty₂</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.cast">Ctxt.Var.cast</a> <span class="fn">h_eq</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn">{ <span class="fn">val</span> := <span class="fn">i</span>, <span class="fn">property</span> := <span class="fn">h</span> }</span> =&gt <span class="fn">{ <span class="fn">val</span> := <span class="fn">i</span>, <span class="fn">property</span> := <span class="fn">(_ : <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">ty₂</span></span></span>)</span> }</span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Var.cast" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var.casesOn"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L89-L104">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">casesOn</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{motive : <span class="fn">(<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>) → <span class="fn">(<span class="fn">t </span>t' : <span class="fn">Ty</span>) → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t'</span></span>) <span class="fn">t</span></span> → <a href="../.././foundational_types.html">Sort</a> u_1</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t' : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(v : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t'</span></span>) <span class="fn">t</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(toSnoc : <span class="fn">{<span class="fn">t </span>t' : <span class="fn">Ty</span>} → <span class="fn">{<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">(<span class="fn">v</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) → <span class="fn"><span class="fn">motive</span> <span class="fn">Γ</span> <span class="fn">t</span> <span class="fn">t'</span> <span class="fn">↑<span class="fn">v</span></span></span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(last : <span class="fn">{<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">{<span class="fn">t</span> : <span class="fn">Ty</span>} → <span class="fn"><span class="fn">motive</span> <span class="fn">Γ</span> <span class="fn">t</span> <span class="fn">t</span> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last">Ctxt.Var.last</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">motive</span> <span class="fn">Γ</span> <span class="fn">t</span> <span class="fn">t'</span> <span class="fn">v</span></span></div></div><p>This is an induction principle that case splits on whether or not a variable
is the last variable in a context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Var.casesOn" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var.casesOn_last"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L108-L116">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_last"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">casesOn_last</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{motive : <span class="fn">(<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>) → <span class="fn">(<span class="fn">t </span>t' : <span class="fn">Ty</span>) → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t'</span></span>) <span class="fn">t</span></span> → <a href="../.././foundational_types.html">Sort</a> u_1</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(base : <span class="fn">{<span class="fn">t </span>t' : <span class="fn">Ty</span>} → <span class="fn">{<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">(<span class="fn">v</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) → <span class="fn"><span class="fn">motive</span> <span class="fn">Γ</span> <span class="fn">t</span> <span class="fn">t'</span> <span class="fn">↑<span class="fn">v</span></span></span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(last : <span class="fn">{<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">{<span class="fn">t</span> : <span class="fn">Ty</span>} → <span class="fn"><span class="fn">motive</span> <span class="fn">Γ</span> <span class="fn">t</span> <span class="fn">t</span> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last">Ctxt.Var.last</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn">Ctxt.Var.casesOn</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last">Ctxt.Var.last</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) (<span class="fn">fun {<span class="fn">t </span>t'} {<span class="fn">Γ</span>} =&gt <span class="fn"><span class="fn">base</span> <span class="fn">t</span> <span class="fn">t'</span> <span class="fn">Γ</span></span></span>) <span class="fn">fun {<span class="fn">Γ</span>} {<span class="fn">t</span>} =&gt <span class="fn"><span class="fn">last</span> <span class="fn">Γ</span> <span class="fn">t</span></span></span></span>) <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">last</span> <span class="fn">Γ</span> <span class="fn">t</span></span></span></div></div><p><code><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn">Ctxt.Var.casesOn</a></code> behaves in the expected way when applied to the last variable</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_last">@<a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_last">Ctxt.Var.casesOn_last</a></a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_last.proof_1">@<a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_last.proof_1">Ctxt.Var.casesOn_last.proof_1</a></a></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Var.casesOn_last" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var.casesOn_toSnoc"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L121-L128">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_toSnoc"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">casesOn_toSnoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{motive : <span class="fn">(<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>) → <span class="fn">(<span class="fn">t </span>t' : <span class="fn">Ty</span>) → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t'</span></span>) <span class="fn">t</span></span> → <a href="../.././foundational_types.html">Sort</a> u_1</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t' : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(v : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(base : <span class="fn">{<span class="fn">t </span>t' : <span class="fn">Ty</span>} → <span class="fn">{<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">(<span class="fn">v</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) → <span class="fn"><span class="fn">motive</span> <span class="fn">Γ</span> <span class="fn">t</span> <span class="fn">t'</span> <span class="fn">↑<span class="fn">v</span></span></span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(last : <span class="fn">{<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">{<span class="fn">t</span> : <span class="fn">Ty</span>} → <span class="fn"><span class="fn">motive</span> <span class="fn">Γ</span> <span class="fn">t</span> <span class="fn">t</span> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last">Ctxt.Var.last</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn">Ctxt.Var.casesOn</a> (<span class="fn">↑<span class="fn">v</span></span>) (<span class="fn">fun {<span class="fn">t </span>t'} {<span class="fn">Γ</span>} =&gt <span class="fn"><span class="fn">base</span> <span class="fn">t</span> <span class="fn">t'</span> <span class="fn">Γ</span></span></span>) <span class="fn">fun {<span class="fn">Γ</span>} {<span class="fn">t</span>} =&gt <span class="fn"><span class="fn">last</span> <span class="fn">Γ</span> <span class="fn">t</span></span></span></span>) <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">base</span> <span class="fn">t</span> <span class="fn">t'</span> <span class="fn">Γ</span> <span class="fn">v</span></span></span></div></div><p><code><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn">Ctxt.Var.casesOn</a></code> behaves in the expected way when applied to a previous variable,
that is not the last one.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_toSnoc">@<a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_toSnoc">Ctxt.Var.casesOn_toSnoc</a></a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_toSnoc.proof_1">@<a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn_toSnoc.proof_1">Ctxt.Var.casesOn_toSnoc.proof_1</a></a></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Var.casesOn_toSnoc" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.toSnoc_injective"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L132-L137">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.toSnoc_injective"><span class="name">Ctxt</span>.<span class="name">toSnoc_injective</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t' : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Init/Function.html#Function.Injective">Function.Injective</a> <span class="fn">Ctxt.Var.toSnoc</span></span></div></div></div></div><div class="decl" id="Ctxt.Hom"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L139-L139">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom"><span class="name">Ctxt</span>.<span class="name">Hom</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(Γ' : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> <span class="fn">Γ</span> <span class="fn">Γ'</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn">⦃<span class="fn">t</span> : <span class="fn">Ty</span>⦄ → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ'</span> <span class="fn">t</span></span></span></span>)</span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Hom" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Hom.id"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L142-L143">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.id"><span class="name">Ctxt</span>.<span class="name">Hom</span>.<span class="name">id</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> <span class="fn">Γ</span> <span class="fn">Γ</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.id">Ctxt.Hom.id</a> <span class="fn">v</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">v</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Hom.id" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Hom.with"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L150-L156">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.with"><span class="name">Ctxt</span>.<span class="name">Hom</span>.<span class="name">with</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">Ty</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(v₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ₁</span> <span class="fn">t</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(v₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ₂</span> <span class="fn">t</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span></div></div><p><code>map.<a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.with">with</a> v₁ v₂</code> adjusts a single variable of a Context map, so that in the resulting map</p><ul>
<li><code>v₁</code> now maps to <code>v₂</code></li>
<li>all other variables <code>v</code> still map to <code>map v</code> as in the original map</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.with">Ctxt.Hom.with</a> <span class="fn">f</span> <span class="fn">v₁</span> <span class="fn">v₂</span> <span class="fn">w</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">if h : <span class="fn">∃ <span class="fn">ty_eq</span>, <span class="fn"><span class="fn"><span class="fn">(_ : <span class="fn"><span class="fn">t'</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">t</span></span>)</span> ▸ <span class="fn">w</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">v₁</span></span></span> then <span class="fn"><span class="fn">(_ : <span class="fn"><span class="fn">t</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">t'</span></span>)</span> ▸ <span class="fn">v₂</span></span> else <span class="fn"><span class="fn">f</span> <span class="fn">t'</span> <span class="fn">w</span></span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Hom.with" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Hom.snocMap"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L159-L164">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.snocMap"><span class="name">Ctxt</span>.<span class="name">Hom</span>.<span class="name">snocMap</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ' : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> <span class="fn">Γ</span> <span class="fn">Γ'</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ'</span> <span class="fn">t</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Hom.snocMap" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Hom.snocRight"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L167-L168">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.snocRight"><span class="name">Ctxt</span>.<span class="name">Hom</span>.<span class="name">snocRight</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ' : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> <span class="fn">Γ</span> <span class="fn">Γ'</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> <span class="fn">Γ</span> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ'</span> <span class="fn">t</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.snocRight">Ctxt.Hom.snocRight</a> <span class="fn">f</span> <span class="fn">v</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">↑(<span class="fn"><span class="fn">f</span> <span class="fn">x</span> <span class="fn">v</span></span>)</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Hom.snocRight" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.instCoeVarSnoc"><div class="instance"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L171-L171">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.instCoeVarSnoc"><span class="name">Ctxt</span>.<span class="name">instCoeVarSnoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t' : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Coe.html#Coe">Coe</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>) (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t'</span></span>) <span class="fn">t</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.instCoeVarSnoc</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">coe</span> := <span class="fn">Ctxt.Var.toSnoc</span> }</span></span></li></ul></details></div></div><div class="decl" id="Ctxt.Valuation"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L178-L179">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation"><span class="name">Ctxt</span>.<span class="name">Valuation</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel">Goedel</a> <span class="fn">Ty</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A valuation for a context. Provide a way to evaluate every variable in a context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation">Ctxt.Valuation</a> <span class="fn">Γ</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn">⦃<span class="fn">t</span> : <span class="fn">Ty</span>⦄ → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟦</a><span class="fn">t</span><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟧</a></span></span></span>)</span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Valuation" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.instInhabitedValuationEmptyCollectionCtxtInstEmptyCollectionCtxt"><div class="instance"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L181-L181">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.instInhabitedValuationEmptyCollectionCtxtInstEmptyCollectionCtxt"><span class="name">Ctxt</span>.<span class="name">instInhabitedValuationEmptyCollectionCtxtInstEmptyCollectionCtxt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel">Goedel</a> <span class="fn">Ty</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation">Ctxt.Valuation</a> <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.instInhabitedValuationEmptyCollectionCtxtInstEmptyCollectionCtxt</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">fun <span class="fn">x</span> <span class="fn">v</span> =&gt <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.emptyElim">Ctxt.Var.emptyElim</a> <span class="fn">v</span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Ctxt.Valuation.snoc"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L184-L190">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.snoc"><span class="name">Ctxt</span>.<span class="name">Valuation</span>.<span class="name">snoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel">Goedel</a> <span class="fn">Ty</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation">Ctxt.Valuation</a> <span class="fn">Γ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟦</a><span class="fn">t</span><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟧</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation">Ctxt.Valuation</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></div></div><p>Make a valuation for <code>Γ.<a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">snoc</a> t</code> from a valuation for <code>Γ</code> and an element of <code>t.<a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">toType</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.snoc">Ctxt.Valuation.snoc</a> <span class="fn">s</span> <span class="fn">x</span> <span class="fn">v</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.casesOn">Ctxt.Var.casesOn</a> <span class="fn">Ty</span> (<span class="fn">fun <span class="fn">x</span> <span class="fn">x_1</span> <span class="fn">x_2</span> <span class="fn">x_3</span> =&gt <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation">Ctxt.Valuation</a> <span class="fn">x</span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟦</a><span class="fn">x_2</span><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟧</a></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟦</a><span class="fn">x_1</span><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟧</a></span></span></span></span>) <span class="fn">Γ</span> <span class="fn">t'</span> <span class="fn">t</span> <span class="fn">v</span> (<span class="fn">fun {<span class="fn">t </span>t'} {<span class="fn">Γ</span>} <span class="fn">v</span> <span class="fn">s</span> <span class="fn">x</span> =&gt <span class="fn"><span class="fn">s</span> <span class="fn">t</span> <span class="fn">v</span></span></span>)
    (<span class="fn">fun {<span class="fn">Γ</span>} {<span class="fn">t</span>} <span class="fn">s</span> <span class="fn">x</span> =&gt <span class="fn">x</span></span>) <span class="fn">s</span> <span class="fn">x</span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Valuation.snoc" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Valuation.snoc_last"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L193-L195">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.snoc_last"><span class="name">Ctxt</span>.<span class="name">Valuation</span>.<span class="name">snoc_last</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel">Goedel</a> <span class="fn">Ty</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation">Ctxt.Valuation</a> <span class="fn">Γ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟦</a><span class="fn">t</span><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟧</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.snoc">Ctxt.Valuation.snoc</a> <span class="fn">s</span> <span class="fn">x</span> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last">Ctxt.Var.last</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span></span></div></div></div></div><div class="decl" id="Ctxt.Valuation.snoc_toSnoc"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L198-L200">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.snoc_toSnoc"><span class="name">Ctxt</span>.<span class="name">Valuation</span>.<span class="name">snoc_toSnoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel">Goedel</a> <span class="fn">Ty</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t' : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation">Ctxt.Valuation</a> <span class="fn">Γ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟦</a><span class="fn">t</span><a href="../.././SSA/Core/ErasedContext.html#Goedel.toType">⟧</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(v : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t'</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.snoc">Ctxt.Valuation.snoc</a> <span class="fn">s</span> <span class="fn">x</span> <span class="fn">↑<span class="fn">v</span></span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">s</span> <span class="fn">t'</span> <span class="fn">v</span></span></span></div></div></div></div><div class="decl" id="Ctxt.Valuation.ofHVector"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L203-L205">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.ofHVector"><span class="name">Ctxt</span>.<span class="name">Valuation</span>.<span class="name">ofHVector</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Goedel">Goedel</a> <span class="fn">Ty</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{types : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/HVector.html#HVector">HVector</a> <span class="fn">Goedel.toType</span> <span class="fn">types</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation">Ctxt.Valuation</a> <span class="fn">↑<span class="fn">types</span></span></span></span></div></div><p>Build valuation from a vector of values of types <code>types</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.ofHVector">Ctxt.Valuation.ofHVector</a> <span class="fn">HVector.nil</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">default</span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.ofHVector">Ctxt.Valuation.ofHVector</a> (<span class="fn"><a href="../.././SSA/Core/HVector.html#HVector.cons">HVector.cons</a> <span class="fn">x_1</span> <span class="fn">xs</span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.snoc">Ctxt.Valuation.snoc</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Valuation.ofHVector">Ctxt.Valuation.ofHVector</a> <span class="fn">xs</span></span>) <span class="fn">x_1</span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Valuation.ofHVector" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.VarSet"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L213-L214">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.VarSet"><span class="name">Ctxt</span>.<span class="name">VarSet</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A <code>Ty</code>-indexed family of sets of variables in context <code>Γ</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.VarSet">Ctxt.VarSet</a> <span class="fn">Γ</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Mathlib/Data/Finset/Basic.html#Finset">Finset</a> (<span class="fn">(t : <span class="fn">Ty</span>) × <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span></span>)</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.VarSet" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.VarSet.ofVar"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L220-L221">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.VarSet.ofVar"><span class="name">Ctxt</span>.<span class="name">VarSet</span>.<span class="name">ofVar</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(v : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.VarSet">Ctxt.VarSet</a> <span class="fn">Γ</span></span></div></div><p>A <code><a href="../.././SSA/Core/ErasedContext.html#Ctxt.VarSet">VarSet</a></code> with exactly one variable <code>v</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.VarSet.ofVar">Ctxt.VarSet.ofVar</a> <span class="fn">v</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{<span class="fn">{ <span class="fn">fst</span> := <span class="fn">t</span>, <span class="fn">snd</span> := <span class="fn">v</span> }</span>}</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.VarSet.ofVar" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Var.val_last"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L228-L229">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.val_last"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">val_last</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">↑(<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.last">Ctxt.Var.last</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></span></div></div></div></div><div class="decl" id="Ctxt.Var.val_toSnoc"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L232-L233">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.val_toSnoc"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">val_toSnoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t' : <span class="fn">Ty</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(v : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">↑<span class="fn">↑<span class="fn">v</span></span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">↑<span class="fn">v</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span></span></div></div></div></div><div class="decl" id="Ctxt.Var.instReprVar"><div class="instance"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L235-L236">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Var.instReprVar"><span class="name">Ctxt</span>.<span class="name">Var</span>.<span class="name">instReprVar</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">Ty</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn">{<span class="fn">Γ</span> : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">{<span class="fn">t</span> : <span class="fn">Ty</span>} → <span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Var">Ctxt.Var</a> <span class="fn">Γ</span> <span class="fn">t</span></span>)</span></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.Var.instReprVar</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">reprPrec</span> := <span class="fn">fun <span class="fn">v</span> <span class="fn">x</span> =&gt <span class="fn"><span class="fn"><span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot%&quot</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">↑<span class="fn">v</span></span></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot&quot</span></span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Ctxt.Diff.Valid"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L245-L246">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">Valid</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(Γ₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(d : <a href="../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Prop</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span> <span class="fn">d</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">∀ {<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>} {<span class="fn">t</span> : <span class="fn">Ty</span>}, <span class="fn"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₁</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₂</span> (<span class="fn"><span class="fn">i</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">d</span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span></span></span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Diff.Valid" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Diff"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L252-L253">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff"><span class="name">Ctxt</span>.<span class="name">Diff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(Γ₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>If <code>Γ₁</code> is a prefix of <code>Γ₂</code>,
then <code>d : Γ₁.<a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Diff</a> Γ₂</code> represents the number of elements that <code>Γ₂</code> has more than <code>Γ₁</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">d</span> // <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span> <span class="fn">d</span></span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Diff" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Diff.zero"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L258-L259">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.zero"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ</span> <span class="fn">Γ</span></span></div></div><p>The difference between any context and itself is 0</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.zero">Ctxt.Diff.zero</a> <span class="fn">Γ</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">val</span> := <span class="fn">0</span>, <span class="fn">property</span> := <span class="fn">(_ : <span class="fn">∀ {<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>} {<span class="fn">t</span> : <span class="fn">Ty</span>}, <span class="fn"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span></span></span>)</span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Diff.zero" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Diff.toSnoc"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L262-L267">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toSnoc"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toSnoc</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">Ty</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn">{<span class="fn">Γ₁ </span>Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">{<span class="fn">t</span> : <span class="fn">Ty</span>} → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ₂</span> <span class="fn">t</span></span>)</span></span></span></span></span></div></div><p>Adding a new type to the right context corresponds to incrementing the difference by 1</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toSnoc">Ctxt.Diff.toSnoc</a> <span class="fn">d</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">val</span> := <span class="fn"><span class="fn">↑<span class="fn">d</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>,
    <span class="fn">property</span> := <span class="fn">(_ : <span class="fn">∀ {<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>} {<span class="fn">t</span> : <span class="fn">Ty</span>}, <span class="fn"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₁</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ₂</span> <span class="fn">t</span></span>) (<span class="fn"><span class="fn">i</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> (<span class="fn"><span class="fn">↑<span class="fn">d</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>)</span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span></span></span>)</span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Diff.toSnoc" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Diff.unSnoc"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L270-L277">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.unSnoc"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">unSnoc</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">Ty</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn">{<span class="fn">Γ₂ </span>Γ₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn">{<span class="fn">t</span> : <span class="fn">Ty</span>} → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ₁</span> <span class="fn">t</span></span>) <span class="fn">Γ₂</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span></span></span></span></span></div></div><p>Removing a type from the left context corresponds to incrementing the difference by 1</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.unSnoc">Ctxt.Diff.unSnoc</a> <span class="fn">d</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">val</span> := <span class="fn"><span class="fn">↑<span class="fn">d</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>,
    <span class="fn">property</span> := <span class="fn">(_ : <span class="fn">∀ {<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>} {<span class="fn">t</span> : <span class="fn">Ty</span>}, <span class="fn"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₁</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₂</span> (<span class="fn"><span class="fn">i</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> (<span class="fn"><span class="fn">↑<span class="fn">d</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>)</span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span></span></span>)</span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Diff.unSnoc" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Diff.append_valid"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L279-L284">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.append_valid"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">append_valid</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₃ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{d₁ : <a href="../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{d₂ : <a href="../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span> <span class="fn">d₁</span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ₂</span> <span class="fn">Γ₃</span> <span class="fn">d₂</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ₁</span> <span class="fn">Γ₃</span> (<span class="fn"><span class="fn">d₁</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">d₂</span></span>)</span></span></span></div></div></div></div><div class="decl" id="Ctxt.Diff.append"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L287-L288">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.append"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">append</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">Ty</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn">{<span class="fn">Γ₁ </span>Γ₂ Γ₃ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₂</span> <span class="fn">Γ₃</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₃</span></span></span></span></span></span></div></div><p>Addition of the differences of two contexts</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.append">Ctxt.Diff.append</a> <span class="fn">d₁</span> <span class="fn">d₂</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">val</span> := <span class="fn"><span class="fn">↑<span class="fn">d₁</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">↑<span class="fn">d₂</span></span></span>,
    <span class="fn">property</span> := <span class="fn">(_ : <span class="fn">∀ {<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>} {<span class="fn">t</span> : <span class="fn">Ty</span>}, <span class="fn"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₁</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₃</span> (<span class="fn"><span class="fn">i</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> (<span class="fn"><span class="fn">↑<span class="fn">d₁</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">↑<span class="fn">d₂</span></span></span>)</span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span></span></span>)</span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Diff.append" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Diff.toHom"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L291-L292">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toHom</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">Ty</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn">{<span class="fn">Γ₁ </span>Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom">Ctxt.Hom</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span></span></span></span></div></div><p>Adding the difference of two contexts to variable indices is a context mapping</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom">Ctxt.Diff.toHom</a> <span class="fn">d</span> <span class="fn">v</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">val</span> := <span class="fn"><span class="fn">↑<span class="fn">v</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">↑<span class="fn">d</span></span></span>, <span class="fn">property</span> := <span class="fn">(_ : <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₂</span> (<span class="fn"><span class="fn">↑<span class="fn">v</span></span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">↑<span class="fn">d</span></span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">x</span></span></span>)</span> }</span></span></li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Diff.toHom" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Diff.Valid.of_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L294-L297">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid.of_succ"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">Valid</span>.<span class="name">of_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{d : <a href="../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(h_valid : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ₁</span> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ₂</span> <span class="fn">t</span></span>) (<span class="fn"><span class="fn">d</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span> <span class="fn">d</span></span></div></div></div></div><div class="decl" id="Ctxt.Diff.toHom_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L299-L301">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom_succ"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toHom_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{d : <a href="../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(h : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ₁</span> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ₂</span> <span class="fn">t</span></span>) (<span class="fn"><span class="fn">d</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom">Ctxt.Diff.toHom</a> <span class="fn">{ <span class="fn">val</span> := <span class="fn"><span class="fn">d</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>, <span class="fn">property</span> := <span class="fn">fun {<span class="fn">i</span>} {<span class="fn">t</span>} =&gt <span class="fn"><span class="fn">h</span> <span class="fn">i</span> <span class="fn">t</span></span></span> }</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Hom.snocRight">Ctxt.Hom.snocRight</a>
    (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom">Ctxt.Diff.toHom</a>
      <span class="fn">{ <span class="fn">val</span> := <span class="fn">d</span>, <span class="fn">property</span> := <span class="fn">(_ : <span class="fn">∀ {<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>} {<span class="fn">t</span> : <span class="fn">Ty</span>}, <span class="fn"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₁</span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.get?">Ctxt.get?</a> <span class="fn">Γ₂</span> (<span class="fn"><span class="fn">i</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">d</span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">t</span></span></span></span></span>)</span> }</span></span>)</span></span></div></div></div></div><div class="decl" id="Ctxt.Diff.toHom_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L304-L306">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom_zero"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toHom_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{h : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.Valid">Ctxt.Diff.Valid</a> <span class="fn">Γ</span> <span class="fn">Γ</span> <span class="fn">0</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom">Ctxt.Diff.toHom</a> <span class="fn">{ <span class="fn">val</span> := <span class="fn">0</span>, <span class="fn">property</span> := <span class="fn">fun {<span class="fn">i</span>} {<span class="fn">t</span>} =&gt <span class="fn"><span class="fn">h</span> <span class="fn">i</span> <span class="fn">t</span></span></span> }</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">Ctxt.Hom.id</span></span></div></div></div></div><div class="decl" id="Ctxt.Diff.toHom_unSnoc"><div class="theorem"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L309-L311">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom_unSnoc"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">toHom_unSnoc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Ty : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{t : <span class="fn">Ty</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₁ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Γ₂ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(d : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.snoc">Ctxt.snoc</a> <span class="fn">Γ₁</span> <span class="fn">t</span></span>) <span class="fn">Γ₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom">Ctxt.Diff.toHom</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.unSnoc">Ctxt.Diff.unSnoc</a> <span class="fn">d</span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">fun <span class="fn">x</span> <span class="fn">v</span> =&gt <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.toHom">Ctxt.Diff.toHom</a> <span class="fn">d</span> <span class="fn">↑<span class="fn">v</span></span></span></span></span></div></div></div></div><div class="decl" id="Ctxt.Diff.add"><div class="def"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L313-L317">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.add"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">add</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">Ty</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn">{<span class="fn">Γ₁ </span>Γ₂ Γ₃ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span> → <span class="fn"><span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₂</span> <span class="fn">Γ₃</span></span> → <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₃</span></span></span></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Ctxt.Diff.add" class="instances-for-list"></ul></details></div></div><div class="decl" id="Ctxt.Diff.instHAddDiff"><div class="instance"><div class="gh_link"><a href="https://github.com/opencompl/ssa/blob/1ad07144283f45e290add0bafe10ed0bb40f67ae/SSA/Core/ErasedContext.lean#L319-L319">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff.instHAddDiff"><span class="name">Ctxt</span>.<span class="name">Diff</span>.<span class="name">instHAddDiff</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">Ty</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn">{<span class="fn">Γ₁ </span>Γ₂ Γ₃ : <span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt">Ctxt</a> <span class="fn">Ty</span></span>} → <span class="fn"><a href="../.././Init/Prelude.html#HAdd">HAdd</a> (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₂</span></span>) (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₂</span> <span class="fn">Γ₃</span></span>) (<span class="fn"><a href="../.././SSA/Core/ErasedContext.html#Ctxt.Diff">Ctxt.Diff</a> <span class="fn">Γ₁</span> <span class="fn">Γ₃</span></span>)</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Ctxt.Diff.instHAddDiff</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">hAdd</span> := <span class="fn">Ctxt.Diff.add</span> }</span></span></li></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>